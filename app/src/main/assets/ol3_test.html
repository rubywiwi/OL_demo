<!doctype html>
<html lang="en">
<head>
    <link rel="stylesheet" href="http://openlayers.org/en/v3.4.0/css/ol.css" type="text/css">
    <style>
        .map {
        height: 100%;
        width: 100%;
        }
    </style>
    <script src="src/ol.js" type="text/javascript"></script>
    <title>OpenLayers 3 example</title>
    <style>
        #map {
        position: relative;
        }
        #popup {
        padding-bottom: 45px;
        }
    </style>
</head>
<body>
<div id="map" class="map">
    <div id="popup"></div></div>
<script type="text/javascript">
    var raster = new ol.layer.Tile({
      source: new ol.source.MapQuest({layer: 'sat'})
    });
    var vector = new ol.layer.Vector({
      source: new ol.source.GeoJSON({
        projection: 'EPSG:3857',
        url: 'http://openlayers.org/en/v3.4.0/examples/data/geojson/countries.geojson'
      })
    });
    var map = new ol.Map({
      layers: [raster, vector],
      target: 'map',
      view: new ol.View({
        center: [0,0],
        zoom: 2
      })
    });
    var select = null;
    var selectMode = new ol.interaction.Select();
// select interaction working on "click"
var selectClick = new ol.interaction.Select({
  condition: ol.events.condition.click
});

// select interaction working on "pointermove"
var selectPointerMove = new ol.interaction.Select({
  condition: ol.events.condition.pointerMove
});
    var changeInteraction = function() {
  var value = 'pointermove';
  if (value == 'singleclick') {
    select = selectSingleClick;
  } else if (value == 'click') {
    select = selectClick;
  } else if (value == 'pointermove') {
    select = selectPointerMove;
  } else {
    select = null;
  }
  if (select !== null) {
    map.addInteraction(select);
  }
};


/**
 * onchange callback on the select element.
 */
changeInteraction();

//1.2
//     var iconFeature = new ol.Feature({
//   geometry: new ol.geom.Point([0, 0]),
//   name: 'Null Island',
//   population: 4000,
//   rainfall: 500
// });

// var iconStyle = new ol.style.Style({
//   image: new ol.style.Icon(/** @type {olx.style.IconOptions} */ ({
//     anchor: [0.5, 46],
//     anchorXUnits: 'fraction',
//     anchorYUnits: 'pixels',
//     opacity: 0.75,
//     src: 'icon.png'
//   }))
// });

// iconFeature.setStyle(iconStyle);

// var vectorSource = new ol.source.Vector({
//   features: [iconFeature]
// });

// var vectorLayer = new ol.layer.Vector({
//   source: vectorSource
// });

// var rasterLayer = new ol.layer.Tile({
//   source: new ol.source.TileJSON({
//     url: 'http://api.tiles.mapbox.com/v3/mapbox.geography-class.jsonp',
//     crossOrigin: ''
//   })
// });

// var map = new ol.Map({
//   //renderer: exampleNS.getRendererFromQueryString(),
//   layers: [rasterLayer, vectorLayer],
//   target: document.getElementById('map'),
//   view: new ol.View({
//     center: [0, 0],
//     zoom: 3
//   })
// });

// var element = document.getElementById('popup');

// var popup = new ol.Overlay({
//   element: element,
//   positioning: 'bottom-center',
//   stopEvent: false
// });
// map.addOverlay(popup);

// // display popup on click
// map.on('click', function(evt) {
//   var feature = map.forEachFeatureAtPixel(evt.pixel,
//       function(feature, layer) {
//         return feature;
//       });
//   if (feature) {
//     var geometry = feature.getGeometry();
//     var coord = geometry.getCoordinates();
//     popup.setPosition(coord);
//     $(element).popover({
//       'placement': 'top',
//       'html': true,
//       'content': feature.get('name')
//     });
//     $(element).popover('show');
//   } else {
//     $(element).popover('destroy');
//   }
// });

// // change mouse cursor when over marker
// map.on('pointermove', function(e) {
//   if (e.dragging) {
//     $(element).popover('destroy');
//     return;
//   }
//   var pixel = map.getEventPixel(e.originalEvent);
//   var hit = map.hasFeatureAtPixel(pixel);
//   map.getTarget().style.cursor = hit ? 'pointer' : '';
// });


//1.1
//     var raster = new ol.layer.Tile({
//   source: new ol.source.MapQuest({layer: 'sat'})
// });

// var source = new ol.source.Vector();

// var vector = new ol.layer.Vector({
//   source: source,
//   style: new ol.style.Style({
//     fill: new ol.style.Fill({
//       color: 'rgba(255, 255, 255, 0.2)'
//     }),
//     stroke: new ol.style.Stroke({
//       color: '#ffcc33',
//       width: 2
//     }),
//     image: new ol.style.Circle({
//       radius: 7,
//       fill: new ol.style.Fill({
//         color: '#ffcc33'
//       })
//     })
//   })
// });

// var map = new ol.Map({
//   layers: [raster, vector],
//   //renderer: exampleNS.getRendererFromQueryString(),
//   target: 'map',
//   view: new ol.View({
//     center: [-11000000, 4600000],
//     zoom: 4
//   })
// });

// var typeSelect = 'LineString';

// var draw; // global so we can remove it later
// function addInteraction() {
//   var value = typeSelect.value;
//   if (value !== 'None') {
//     draw = new ol.interaction.Draw({
//       source: source,
//       type: /** @type {ol.geom.GeometryType} */ ('Point')
//     });
//     map.addInteraction(draw);
//   }
// }


// /**
//  * Let user change the geometry type.
//  * @param {Event} e Change event.
//  */
// typeSelect.onchange = function(e) {
//   map.removeInteraction(draw);
//   addInteraction();
// };

// addInteraction();
    </script>
</body>
</html>